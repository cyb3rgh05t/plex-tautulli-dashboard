<!DOCTYPE html>
<html lang="en" class="dark theme-dark">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Plex & Tautulli Dashboard</title>
    <script>
      // Theme detection script to run before React loads
      (function () {
        // Always use dark theme
        const savedTheme = "dark";

        // Get saved Accent color
        const savedAccent = localStorage.getItem("accentColor") || "purple";

        // Define valid accent colors
        const validAccents = [
          "purple",
          "grey",
          "green",
          "maroon",
          "orange",
          "blue",
          "red",
        ];

        // Ensure only valid accents are applied
        const accent = validAccents.includes(savedAccent)
          ? savedAccent
          : "purple";

        // Apply theme and accent classes immediately
        document.documentElement.classList.add("theme-dark");
        document.documentElement.classList.add("dark"); // For Tailwind dark mode
        document.documentElement.classList.add("accent-" + accent);

        // Set data attributes for theme and accent
        document.documentElement.setAttribute("data-theme", "dark");
        document.documentElement.setAttribute("data-accent", accent);

        console.log("Initial theme applied: dark with accent:", accent);
      })();
    </script>
  </head>
  <body class="theme-dark">
    <div id="root"></div>
    <script type="module" src="/src/main.jsx"></script>
  </body>
</html>
