<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Plex & Tautulli Dashboard</title>
    <script>
      // Theme detection script to run before React loads
      (function () {
        // Get theme preference (now always dark)
        const savedTheme = "dark"; // Force dark theme

        // Get saved Accent color
        const savedAccent = localStorage.getItem("accentColor") || "purple";

        // Define valid accent colors
        const validAccents = [
          "purple",
          "grey",
          "green",
          "maroon",
          "orange",
          "blue",
          "red",
        ];

        // Ensure only valid accents are applied
        const accent = validAccents.includes(savedAccent)
          ? savedAccent
          : "purple";

        // Apply theme classes immediately
        document.documentElement.classList.add("theme-" + savedTheme);
        document.body.classList.add("theme-" + savedTheme);

        // Apply accent classes immediately
        document.documentElement.classList.add("accent-" + accent);
        document.body.classList.add("accent-" + accent);

        // Set data attributes for theme and accent
        document.documentElement.setAttribute("data-theme", savedTheme);
        document.documentElement.setAttribute("data-accent", accent);

        console.log(
          "Initial theme applied:",
          savedTheme,
          "with accent:",
          accent
        );
      })();
    </script>
  </head>
  <body>
    <div id="root"></div>
    <script type="module" src="/src/main.jsx"></script>
  </body>
</html>
